{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/sebastian/Escritorio/timezo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/sebastian/Escritorio/timezo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/sebastian/Escritorio/timezo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/home/sebastian/Escritorio/timezo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectWithoutProperties from\"/home/sebastian/Escritorio/timezo/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useEffect}from'react';import{withStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import Dialog from'@material-ui/core/Dialog';import MuiDialogTitle from'@material-ui/core/DialogTitle';import MuiDialogContent from'@material-ui/core/DialogContent';import MuiDialogActions from'@material-ui/core/DialogActions';import IconButton from'@material-ui/core/IconButton';import CloseIcon from'@material-ui/icons/Close';import Typography from'@material-ui/core/Typography';import GoogleLogin from'react-google-login';import axios from'../../utils/axios';import TextField from'@material-ui/core/TextField';import{useSelector,useDispatch}from'react-redux';import{authGoogle}from'../../reducer/auth';var styles=function styles(theme){return{root:{margin:0,padding:theme.spacing(2)},closeButton:{position:'absolute',right:theme.spacing(1),top:theme.spacing(1),color:theme.palette.grey[500]}};};var DialogTitle=withStyles(styles)(function(props){var children=props.children,classes=props.classes,onClose=props.onClose,other=_objectWithoutProperties(props,[\"children\",\"classes\",\"onClose\"]);return/*#__PURE__*/_jsxs(MuiDialogTitle,_objectSpread(_objectSpread({disableTypography:true,className:classes.root},other),{},{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:children}),onClose?/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close\",className:classes.closeButton,onClick:onClose,children:/*#__PURE__*/_jsx(CloseIcon,{})}):null]}));});var DialogContent=withStyles(function(theme){return{root:{padding:theme.spacing(2)}};})(MuiDialogContent);var DialogActions=withStyles(function(theme){return{root:{margin:0,padding:theme.spacing(1)}};})(MuiDialogActions);var Signup=function Signup(_ref){var _ref$valueOpen=_ref.valueOpen,valueOpen=_ref$valueOpen===void 0?false:_ref$valueOpen,openModalSet=_ref.openModalSet;var _React$useState=React.useState(valueOpen),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),value=_React$useState4[0],setValue=_React$useState4[1];var dispatch=useDispatch();var auth=useSelector(function(_ref2){var auth=_ref2.auth;return auth;});useEffect(function(){setOpen(valueOpen);},[valueOpen]);var responseGoogle=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(response.profileObj){//pegarle a la API\n//   const token = await axios.post('api/auth/google', { data: response, nickname: value });\ndispatch(authGoogle({data:response,nickname:value}));;// console.log('token', token)\n}case 1:case\"end\":return _context.stop();}}},_callee);}));return function responseGoogle(_x){return _ref3.apply(this,arguments);};}();useEffect(function(){console.log('ocurrio un erroor',auth.error);},[auth.error]);useEffect(function(){if(auth.token&&auth.email){openModalSet(false);}},[auth.token]);var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){auth.error='';openModalSet(false);setOpen(false);};var handleChange=function handleChange(event){setValue(event.target.value);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Dialog,{onClose:handleClose,\"aria-labelledby\":\"customized-dialog-title\",open:open,children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"customized-dialog-title\",onClose:handleClose,children:/*#__PURE__*/_jsx(\"span\",{className:\"google-text\",children:\"Registro con Google\"})}),/*#__PURE__*/_jsx(DialogContent,{dividers:true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modalRegistro\",children:[/*#__PURE__*/_jsx(TextField,{id:\"outlined-textarea\",label:\"Ingresa cual ser\\xE1 tu nickname\",placeholder:\"Ejemplo: Cosme_fulanito\",multiline:true,variant:\"outlined\",value:value,onChange:handleChange}),value.length<=3&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GoogleLogin,{buttonText:\"Identificarme con mi correo de Google\"}),/*#__PURE__*/_jsx(Typography,{className:\"register-notice\",variant:\"caption\",display:\"block\",gutterBottom:true,children:\"*Ingresa primero un nickname\"})]}),value.length>3&&/*#__PURE__*/_jsx(GoogleLogin,{clientId:\"571028661086-ep938aqcle3uqot5f40mjmujqacpr67g.apps.googleusercontent.com\",buttonText:\"Identificarme con mi correo de Google\",onSuccess:responseGoogle,onFailure:responseGoogle,cookiePolicy:'single_host_origin'}),auth.error&&/*#__PURE__*/_jsxs(\"p\",{className:\"error_login\",children:[auth.error,\" \"]})]})})]})});};export{Signup};","map":{"version":3,"sources":["/home/sebastian/Escritorio/timezo/front/src/pages/CreateEvent/Signup.js"],"names":["React","useEffect","withStyles","Button","Dialog","MuiDialogTitle","MuiDialogContent","MuiDialogActions","IconButton","CloseIcon","Typography","GoogleLogin","axios","TextField","useSelector","useDispatch","authGoogle","styles","theme","root","margin","padding","spacing","closeButton","position","right","top","color","palette","grey","DialogTitle","props","children","classes","onClose","other","DialogContent","DialogActions","Signup","valueOpen","openModalSet","useState","open","setOpen","value","setValue","dispatch","auth","responseGoogle","response","profileObj","data","nickname","console","log","error","token","email","handleClickOpen","handleClose","handleChange","event","target","length"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Typography from '@material-ui/core/Typography';\nimport GoogleLogin from 'react-google-login';\nimport axios from '../../utils/axios';\nimport TextField from '@material-ui/core/TextField';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { authGoogle } from '../../reducer/auth';\n\nconst styles = (theme) => ({\n    root: {\n        margin: 0,\n        padding: theme.spacing(2),\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n    const { children, classes, onClose, ...other } = props;\n    return (\n        <MuiDialogTitle disableTypography className={classes.root} {...other}>\n            <Typography variant=\"h6\">{children}</Typography>\n            {onClose ? (\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n                    <CloseIcon />\n                </IconButton>\n            ) : null}\n        </MuiDialogTitle>\n    );\n});\n\nconst DialogContent = withStyles((theme) => ({\n    root: {\n        padding: theme.spacing(2),\n    },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n    root: {\n        margin: 0,\n        padding: theme.spacing(1),\n    },\n}))(MuiDialogActions);\n\nconst Signup = ({ valueOpen = false, openModalSet }) => {\n    const [open, setOpen] = React.useState(valueOpen);\n    const [value, setValue] = React.useState('');\n    const dispatch = useDispatch();\n    const auth = useSelector(({ auth }) => auth);\n\n    useEffect(() => {\n        setOpen(valueOpen)\n    }, [valueOpen])\n\n    const responseGoogle = async (response) => {\n         \n        if (response.profileObj) {\n            //pegarle a la API\n            //   const token = await axios.post('api/auth/google', { data: response, nickname: value });\n\n            dispatch(authGoogle({ data: response, nickname: value }));\n             ;\n            // console.log('token', token)\n        }\n    };\n\n    useEffect(() => {\n        console.log('ocurrio un erroor', auth.error)\n\n    }, [auth.error])\n\n    useEffect(() => {\n        if(auth.token && auth.email){\n\n            openModalSet(false)\n        }\n    }, [auth.token])\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        auth.error = ''\n        openModalSet(false)\n        setOpen(false);\n    };\n    const handleChange = (event) => {\n        setValue(event.target.value);\n    };\n\n    return (\n        <>\n            <Dialog onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\n                <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n                    <span className=\"google-text\">Registro con Google</span>\n                </DialogTitle>\n                <DialogContent dividers>\n                    <div className=\"modalRegistro\">\n                        <TextField\n                            id=\"outlined-textarea\"\n                            label=\"Ingresa cual será tu nickname\"\n                            placeholder=\"Ejemplo: Cosme_fulanito\"\n                            multiline\n                            variant=\"outlined\"\n                            value={value}\n                            onChange={handleChange}\n                        />\n                        {\n                            value.length <= 3 &&\n                            <>\n                                <GoogleLogin\n                                    buttonText=\"Identificarme con mi correo de Google\"\n                                />\n                                <Typography className=\"register-notice\" variant=\"caption\" display=\"block\" gutterBottom>\n                                    *Ingresa primero un nickname\n                                </Typography>\n                            </>\n                        }\n                        {\n                            value.length > 3 &&\n                            <GoogleLogin\n                                clientId=\"571028661086-ep938aqcle3uqot5f40mjmujqacpr67g.apps.googleusercontent.com\"\n                                buttonText=\"Identificarme con mi correo de Google\"\n                                onSuccess={responseGoogle}\n                                onFailure={responseGoogle}\n                                cookiePolicy={'single_host_origin'}\n                            />\n                        }\n\n                        {\n                            auth.error &&\n                            <p className=\"error_login\">{auth.error} </p>\n                        }\n                    </div>\n                </DialogContent>\n            </Dialog>\n        </>\n    );\n}\n\nexport { Signup }"]},"metadata":{},"sourceType":"module"}